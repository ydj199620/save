<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box{
				width: 512px;
				height: 512px;
				overflow: hidden;
				position: relative;
			}
			#box1{
				background: black;
				opacity: 0.5;
				width: 512px;
				height: 256px;
				position: absolute;
				top: 0;
			}
			#img{
				position: absolute;
			}
			#box2{
				background: black;
				opacity: 0;
				width: 512px;
				height: 256px;
				position: absolute;
				bottom: 0;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<img src="img/mi.png" id="img"/>
			<div id="box1"></div>
			<div id="box2"></div>
		</div>
	</body>
</html>
<script type="text/javascript">
	var a = document.getElementById('box');
	var b = document.getElementById('box1');
	var c = document.getElementById('box2');
	var d = document.getElementById('img');
	var e = 0;
	/*var j = -958;*/
	var f;
	b.onmouseover = function(){
		clearInterval(f);
		f = setInterval(function aa(){
			e--;
			if(e>-958){
				d.style.top = e+'px';
			}else if(e==-958){
				clearInterval(f);
				b.style.opacity=0;
				c.style.opacity=0.5;
			}else{
				clearInterval(f);
			}
		},1)
	}
	b.onmouseout = function(){
		clearInterval(f);
	}
	c.onmouseover = function(){
		clearInterval(f);
		f = setInterval(function bb(){
			e++;//e的值是继承上面定时器结束时的数字
			if(e<0){
				d.style.top = e+'px';
			}else if(e==0){
				clearInterval(f);
				b.style.opacity=0.5;
				c.style.opacity=0;
			}else{
				clearInterval(f);
			}
		},1)
	}
	c.onmouseout = function(){
		clearInterval(f);
	}
</script>
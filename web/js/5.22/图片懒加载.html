<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				padding: 0;
				margin: 0;
				list-style: none;
			}
			div{
				width: 192px;
				margin: 0 auto;
			}
			li{
				height: 1500px;
				width: 192px;
				position: relative;
				background: skyblue;
			}
			img{
				width: 192px;
				height: 288px;
				position: absolute;
				bottom: 0;
			}
		</style>
	</head>
	<body>
		<div>
			<ul>
				<li><img src="img/P_000.jpg"/></li>
				<li><img src="img/P_001.jpg"/></li>
				<li><img src="img/P_002.jpg"/></li>
				<li><img src="img/P_004.jpg"/></li>
			</ul>
		</div>
	</body>
</html>
<script type="text/javascript">
	var a = document.getElementsByTagName('img');
	for(var i = 0;i<a.length;i++){//先进行循环
		a[i].setAttribute('date-src',a[i].src);//使每个图片加个自定义属性用来保存图片的路径
		a[i].src = '';//使图片路径为空（不显示）
	}
	window.onscroll =function(){//滚轮滑动事件
		var clum = scroll().top + client().height1;//var一个变量保存可视窗口的高度+卷去的高度
		for(var j =0;j<a.length;j++){//循环出每个图片的位置
			if(clum>=aa(a[j])){//如果可视窗口的高度加上卷去的高度和大于等于图片距离顶部的距离
				a[j].src = a[j].getAttribute('date-src');//图片的src属性空变成自定义属性保存的图片路径
			}
		}
	}
	function aa(obj){//获取图片距离顶部的高度
		var top = 0;
		while(obj.offsetParent){//如果obj存在有定位的父节点；
			top = top+obj.offsetTop;//那个top值等于top值加上obj距离有定位的父节点的距离
			obj = obj.offsetParent;//使obj变成他的父节点，然后再次循环进行计算
		}
		return top;//自定义函数返回值；
	}
	function client(){//获取屏幕的高度和宽度
		return obj = {
			'width1':window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,
			'height1':window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0
		}
	}
	function scroll(){
		return  obj = {
			'top':window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0,
			'left':window.pageXOffset ||document.documentElement.scrollLeft || document.body.scrollLeft ||0
		}
	}
</script>